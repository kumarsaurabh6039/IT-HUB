<!-- Main navigation bar -->
<nav class="navbar">
  <div class="container navbar-container">
    
    <!-- Left side: Upcoming Batches dropdown -->
    <div class="nav-left">
      <div class="nav-item dropdown" (mouseenter)="openBatchesDropdown()" (mouseleave)="closeBatchesDropdown()">
        <a class="nav-link categories-link">
          <svg xmlns="http://www.w3.org/2000/svg" class="nav-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
          <span>Upcoming Batches</span>
        </a>

        <!-- Upcoming Batches Dropdown menu -->
        <div class="dropdown-menu upcoming-batches-menu" [class.show]="isBatchesDropdownOpen">
          <div class="upcoming-batches-grid">
            <div class="batch-card" *ngFor="let batch of upcomingBatches">
              <div class="batch-card-image" [style.background-image]="'url(' + batch.imageUrl + ')'"></div>
              <div class="batch-card-content">
                <h3 class="batch-title">{{ batch.courseName }}</h3>
                <p class="batch-description">{{ batch.description }}</p>
                <div class="batch-footer">
                  <span class="batch-date">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                      <path d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-3.5-7h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z"/>
                    </svg>
                    {{ batch.startDate }}
                  </span>
                  <a href="#" class="enroll-btn">Enroll Now</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right side: Standard links -->
    <div class="nav-right">
      <a href="#" class="nav-link"><svg xmlns="http://www.w3.org/2000/svg" class="nav-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg><span>Live Classes</span></a>
      <a href="#" class="nav-link"><svg xmlns="http://www.w3.org/2000/svg" class="nav-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 13v-1m4 1v-3m4 3V8M8 21l4-4 4 4M3 4h18M4 4h16v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4z" /></svg><span>Placements</span></a>
      <!-- Success Stories link that toggles the panel -->
      <a (click)="toggleSuccessPanel()" class="nav-link success-link">
        <svg xmlns="http://www.w3.org/2000/svg" class="nav-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" /></svg>
        <span>Success Stories</span>
      </a>
    </div>

  </div>
</nav>

<!-- Success Stories Side Panel -->
<div class="panel-overlay" [class.open]="isSuccessPanelOpen" (click)="toggleSuccessPanel()"></div>
<div class="success-stories-panel" [class.open]="isSuccessPanelOpen">
  <div class="panel-header">
    <h2>Success Stories</h2>
    <button class="close-btn" (click)="toggleSuccessPanel()">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
    </button>
  </div>
  <div class="panel-body">
    <!-- Student story cards -->
    <div class="story-card" *ngFor="let story of successStories" (click)="viewStory(story)">
      <img [src]="story.image" alt="{{story.name}}" class="student-photo">
      <div class="story-info">
        <h3>{{story.name}}</h3>
        <p>Placed at</p>
      </div>
       <img [src]="story.logo" alt="{{story.company}} Logo" class="company-logo">
    </div>
  </div>
</div>

<!-- Story Detail Modal -->
<div class="story-modal-overlay" *ngIf="selectedStory" (click)="closeStoryModal()">
  <div class="story-modal-content" (click)="$event.stopPropagation()">
    <button class="modal-close-btn" (click)="closeStoryModal()">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
    </button>
    <div class="modal-decorative-bg"></div>
    <img [src]="selectedStory.image" alt="{{selectedStory.name}}" class="modal-student-photo">
    <h2>{{selectedStory.title}}</h2>
    <h3>{{selectedStory.name}} - <span class="company-name">{{selectedStory.company}}</span></h3>
    <p>{{selectedStory.fullStory}}</p>
  </div>
</div>
